{"title":"从Json杀到Yaml","uid":"2679faecf929a89d04089c85f6582773","slug":"Language Learning/MARK LANGUAGE/从json杀到yaml","date":"2021-11-16T08:15:04.000Z","updated":"2023-10-27T19:50:48.000Z","comments":true,"path":"api/articles/Language Learning/MARK LANGUAGE/从json杀到yaml.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<h1 id=\"从-json-杀到-yaml\">从 Json 杀到 Yaml</h1>\r\n<h2 id=\"json-介绍\">Json 介绍</h2>\r\n<h3 id=\"什么是json\">什么是<a href=\"#Json\">Json</a>？</h3>\r\n<blockquote>\r\n<p><strong>JSON</strong> (JavaScript Object Notation) is a lightweight\r\ndata-interchange format. It is easy for humans to read and write. It is\r\neasy for machines to parse and generate. It is based on a subset of the\r\nJavaScript Programming Language Standard ECMA-262 3rd Edition - December\r\n1999. JSON is a text format that is completely language independent but\r\nuses conventions that are familiar to programmers of the C-family of\r\nlanguages, including C, C++, C#, Java, JavaScript, Perl, Python, and\r\nmany others. These properties make JSON an ideal data-interchange\r\nlanguage.</p>\r\n<blockquote>\r\n<p>Json\r\n是一种轻量级数据交换格式。它有着可读性高，易于机器解析和生成的优点，它是编程语言\r\nJs 第三版 ECMA-262 规范的一个子集。JSON\r\n是一种完全独立于语言的文本格式，但是却使用了 C 系程序员熟悉的相关约定如\r\nC, C++, C#, Java, JavaScript, Perl, Python, and many others。这些特性使\r\nJSON 成为一种理想的数据交换语言。</p>\r\n</blockquote>\r\n</blockquote>\r\n<h3 id=\"json-语法\">Json 语法</h3>\r\n<p>Json is built on two structures:</p>\r\n<ul>\r\n<li>A collection of name/value pairs. In various languages, this is\r\nrealized as an <em>object</em>, record, struct, dictionary, hash table,\r\nkeyed list, or associative array.</li>\r\n<li>An ordered list of values. In most languages, this is realized as an\r\n<em>array</em>, vector, list, or sequence.</li>\r\n</ul>\r\n<p>These are universal data structures. Virtually all modern programming\r\nlanguages support them in one form or another. It makes sense that a\r\ndata format that is interchangeable with programming languages also be\r\nbased on these structures.</p>\r\n<p>这些是通用的数据结构。几乎所有的现代编程语言都以这样或那样的形式支持它们。所以一个可以融入编程语言的数据格式自然也应当基于这些结构来设计。</p>\r\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n    &quot;object1&quot;: [\n    &#123; &quot;key1.1&quot;:&quot;value1.1&quot; , &quot;key1.2&quot;:&quot;value1.2&quot; &#125;,\n    &#123; &quot;key2.1&quot;:&quot;value2.1&quot; , &quot;key2.2&quot;:&quot;value2.2&quot; &#125;,\n    ...\n    ],\n    &quot;object2&quot;:&quot;valueForObject2&quot;,\n    &quot;object3&quot;: ...\n&#125;</code></pre>\r\n<p>Json 整体是一个对象 Object，其中内容是<strong>无序</strong>的\r\nname/value 键值对集合，name 以 string 构建，value\r\n可以以<code>array</code>, <code>string</code>, <code>number</code>,\r\n<code>object</code>, <code>true</code>,\r\n<code>false</code>和<code>null</code>中的任意一种来构建。array\r\n中的元素一般为 Object 的对象，value 又可以直接调用\r\nObject，如此便形成嵌套。name 与 value 以 <code>:</code>分隔。</p>\r\n<p>当我们引用 Json 数据时，我们对 Object\r\n中的键值使用点计法取名引用，对数组数据用一般引用数组的办法 Array[ n\r\n]来引用</p>\r\n<div class=\"warning\">\r\n<p>原生 Json\r\n并不支持注释，如果一定需要使用注释，可以查阅<a href=\"#JsonSchema\">Json\r\nschema</a>或者换用<a href=\"#Json5\">JSON5</a>，虽然 JSON5\r\n是第三方库，但仍然严格符合 JS 标准，并且 JSON5.parse 与 JSON.parse\r\n的解析结果一致。当然，你也可以直接换用换用下面的 Yaml</p>\r\n</div>\r\n<h2 id=\"yaml-介绍\">Yaml 介绍</h2>\r\n<blockquote>\r\n<p><a href=\"#Yaml\">YAML</a> Ain't Markup Language, YAML is a human\r\nfriendly data serialization language for all programming languages.</p>\r\n</blockquote>\r\n<p>有意思的是，虽然 YAML 是 YAML Ain't Markup Language\r\n的缩写，但是这个缩写中的 YAML 其实是 Yet Another Markup Language\r\n的缩写，即：这是一个标记语言。正式名称改为了“不是标记语言”，这一点颇为有趣，也耐人寻味——强调其以数据作为重心，而非标记语言。</p>\r\n<p>截止 2021.9.27，Yaml 的最新版本为 1.2.1(发布于 2009.10.1)</p>\r\n<p>到 2021.10.1，Yaml 发布了最新版：1.2.2</p>\r\n<blockquote>\r\n<p>We are excited to announce the release of <a\r\nhref=\"https://yaml.org/spec/1.2.2/\">Revision 1.2.2 of the YAML 1.2\r\nSpecification</a>. This revision comes 12 years to the day after the <a\r\nhref=\"https://yaml.org/spec/1.2.1/\">previous revision</a>.</p>\r\n</blockquote>\r\n<p>如果你没有耐心啃最新的文档的话，你只需要看一句话：No normative\r\nchanges from the 1.2.1 revision. YAML 1.2 has not been changed. 就行</p>\r\n<h3 id=\"yaml-优点\">yaml 优点</h3>\r\n<blockquote>\r\n<p>The design goals for YAML are, in decreasing priority:</p>\r\n<ul>\r\n<li>YAML is easily readable by humans.（易读</li>\r\n<li>YAML data is portable between programming languages.（跨语言</li>\r\n<li>YAML matches the native data structures of agile\r\nlanguages.（与当前语言的数据结构兼容</li>\r\n<li>YAML has a consistent model to support generic\r\ntools.（支持通用工具</li>\r\n<li>YAML supports one-pass processing.</li>\r\n<li>YAML is expressive and extensible.</li>\r\n<li>YAML is easy to implement and use.</li>\r\n</ul>\r\n</blockquote>\r\n<ul>\r\n<li>YAML 中没有额外的定界符，所以相比 JSON 更轻量级。</li>\r\n<li><strong>没有额外定界符</strong>，所以更易读（不过这一点颇为激进，时至今日仍有很多开发者无法接受这种以缩进来界定结构的做法，因为经常出现“一个空格引发的悲剧”）</li>\r\n<li>YAML\r\n使数据更易于理解，因此常用于配置文件中（很经常看见别人将.properties\r\n改为.yaml）</li>\r\n<li>YAML 是 JSON 的超集，对于合法的 JSON 代码，同样可以被 YAML\r\n解析，这样对于使用 JSON 和 YAML\r\n的应用来说，可以使用一个解析器完成两种解析。\r\n然而其并没有如期望中那样受欢迎，具体而言，因为不同的序列化语言都有其特定的适宜语言或者场景（下文可以提到），并且相较于其他广泛使用的序列化语言，YAML\r\n有一些不足。</li>\r\n</ul>\r\n<h3 id=\"yaml-使用场景\">YAML 使用场景</h3>\r\n<p>对于序列化语言来说，使用场景如下：</p>\r\n<ul>\r\n<li>与服务器之间传输数据</li>\r\n<li>使用一个配置文件来配置应用，这些文件声明对应参数和相应取值</li>\r\n<li>在同一个应用不同组件之间转换数据</li>\r\n<li>中间数据存储：针对此类场景，YAML\r\n有一些明确的优势相比于其他同类语言。也是为什么现在越来越多的开发者使用其的地方。</li>\r\n</ul>\r\n<h3 id=\"yaml-语法\">YAML 语法：</h3>\r\n<p>Yaml 与 Json 一样同时支持对象和数组，但是 Yaml\r\n将其余的所有值全部归为“纯量”</p>\r\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"># yaml代码示例：\nlanguages:\n  - Ruby\n  - Perl\n  - Python\n  # 以 - 开头的行表示构成一个数组\nwebsites:\n  YAML: yaml.org\n  Ruby: ruby-lang.org\n  Python: python.org\n  Perl: use.perl.org\n  # 对象键值对使用冒号结构表示 key: value，冒号后面要加一个空格。\n\ncompanies:\n  - id: 1\n    name: company1\n    price: 200W\n  - id: 2\n    name: company2\n    price: 500W\n    # 意思是 companies 属性是一个数组，每一个数组元素又是由 id、name、price 三个属性构成。</code></pre>\r\n<p>转换为 json 为：</p>\r\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n  languages: [&#39;Ruby&#39;, &#39;Perl&#39;, &#39;Python&#39;],\n  websites: &#123;\n    YAML: &#39;yaml.org&#39;,\n    Ruby: &#39;ruby-lang.org&#39;,\n    Python: &#39;python.org&#39;,\n    Perl: &#39;use.perl.org&#39;\n  companies: [&#123;\n      \tid: 1,\n      \tname: company1,\n      \tprice: 200W\n  \t  &#125;, &#123;\n    \tid: 2,\n    \tname: company2,\n    \tprice: 500W\n\t&#125;]\n  &#125;\n&#125;</code></pre>\r\n<h3 id=\"yaml-相比-json\">yaml 相比 json？</h3>\r\n<blockquote>\r\n<p>official document:</p>\r\n<p>Both JSON and YAML aim to be human readable data interchange formats.\r\nHowever, JSON and YAML have different priorities. JSON’s foremost design\r\ngoal is simplicity and universality. Thus, JSON is trivial to generate\r\nand parse, at the cost of reduced human readability. It also uses a\r\nlowest common denominator information model, ensuring any JSON data can\r\nbe easily processed by every modern programming environment.</p>\r\n<blockquote>\r\n<p>Json 和 Yaml 的目标都是人类可读的数据交换格式。但是，Json 和 Yaml\r\n对于目标有不同的优先级。Json 格式设计的首要目标是 simplicity 和\r\nuniversality。因此 Json 容易生成和解析，代价就是减少可读性。</p>\r\n</blockquote>\r\n<p>In contrast, YAML’s foremost design goals are human readability and\r\nsupport for <a\r\nhref=\"https://yaml.org/spec/1.2.1/#serialize//\">serializing</a>\r\narbitrary <a\r\nhref=\"https://yaml.org/spec/1.2.1/#native%20data%20structure//\">native\r\ndata structures</a>. Thus, YAML allows for extremely readable files, but\r\nis more complex to generate and parse. In addition, YAML ventures beyond\r\nthe lowest common denominator data types, requiring more complex\r\nprocessing when crossing between different programming environments.</p>\r\n<p>YAML\r\n中有很多方式来体系化数据层级，因此处理时会相对复杂些。性能上相对于 XML\r\n和 JSON 会有差别。</p>\r\n</blockquote>\r\n<h3 id=\"yaml-与-yml-区别\">yaml 与 yml 区别?</h3>\r\n<p>.yaml 与.yml 都是 yaml 格式的拓展名，虽然.yaml\r\n才是官方推荐的拓展格式，但是到目前为止，yml 仍然被广泛使用：GitHub 上\r\n.yml 相关总提交次数为 1 千 3 百万次，而.yaml 总次数仅为 5 百万次</p>\r\n<p>贴一个比较古早的 stackoverflow 的问题链接：<a\r\nhref=\"https://stackoverflow.com/questions/21059124/is-it-yaml-or-yml\">configuration\r\nfiles - Is it .yaml or .yml? - Stack Overflow</a></p>\r\n<p>如果你不太想看的话，以下由简略版本：</p>\r\n<blockquote>\r\n<p>正方：I like .yml, it's 25% faster to write. ☝😆. Personally, I'm\r\nfine with whichever is the \"standard\"</p>\r\n<p>反方：Some people like to stick to 3 letter extensions as it was back\r\nin the old days when file systems were still limited to short names</p>\r\n</blockquote>\r\n<p>但是我仍然推荐使用\r\nyaml，作为官方推荐的拓展格式，它也许可以帮你避免很多意料之外的\r\nerror。</p>\r\n<p><a href=\"https://www.codenong.com/21059124/\">关于配置文件：是.yaml\r\n还是.yml？ | 码农家园 (codenong.com)</a></p>\r\n<p>本来找到了原文，但是链接丢了(((φ(◎ ロ ◎;)φ)))，坏欸</p>\r\n<hr />\r\n<h3 id=\"参考资料\">参考资料：</h3>\r\n<ul>\r\n<li><span id=\"Json\"><a\r\nhref=\"https://www.json.org/json-en.html\">JSON</a></span></li>\r\n<li><span id=\"JsonSchema\"><a href=\"http://json-schema.org/\">JSON Schema\r\n| The home of JSON Schema (json-schema.org)</a> </span></li>\r\n<li><span id=\"Json5\"><a href=\"https://json5.org/\">JSON5 | JSON for\r\nHumans</a></span></li>\r\n<li><span id=\"Json5Document\"><a\r\nhref=\"https://spec.json5.org/#summary-of-features\">The JSON5 Data\r\nInterchange Format</a></span></li>\r\n<li><span id=\"Yaml\"><a href=\"https://yaml.org/\">The Official YAML Web\r\nSite</a></span></li>\r\n<li><span id=\"YamlFormat\"><a\r\nhref=\"https://docs.fileformat.com/programming/yaml/\">YAML File\r\nFormat</a></span></li>\r\n<li><a href=\"https://yaml.com/doc/\">YAML Documentation · YAML</a></li>\r\n<li><span id=\"YamlValidator\"><a href=\"http://www.yamllint.com/\">YAMLlint\r\n- The YAML Validator</a></span></li>\r\n<li><span id=\"YamlGithubPage\"><a\r\nhref=\"https://github.com/yaml/yaml\">yaml/yaml: YAML language and\r\ncommunity information (github.com)</a></span></li>\r\n</ul>\r\n<iframe src=\"//player.bilibili.com/player.html?aid=802913184&amp;bvid=BV1dy4y1s7rA&amp;cid=332998437&amp;page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"100%\" height=\"500\" scrolling=\"no\" frameborder=\"0\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\">\r\n</iframe>\r\n","text":"从 Json 杀到 Yaml Json 介绍 什么是Json？ JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read an...","link":"","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"Language Learning","slug":"Language-Learning","count":6,"path":"api/categories/Language-Learning.json"},{"name":"Json","slug":"Language-Learning/Json","count":1,"path":"api/categories/Language-Learning/Json.json"},{"name":"Yaml","slug":"Language-Learning/Json/Yaml","count":1,"path":"api/categories/Language-Learning/Json/Yaml.json"}],"tags":[{"name":"Language Learning","slug":"Language-Learning","count":16,"path":"api/tags/Language-Learning.json"},{"name":"Json","slug":"Json","count":2,"path":"api/tags/Json.json"},{"name":"Yaml","slug":"Yaml","count":1,"path":"api/tags/Yaml.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BB%8E-json-%E6%9D%80%E5%88%B0-yaml\"><span class=\"toc-text\">从 Json 杀到 Yaml</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#json-%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">Json 介绍</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AFjson\"><span class=\"toc-text\">什么是Json？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#json-%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">Json 语法</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#yaml-%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">Yaml 介绍</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yaml-%E4%BC%98%E7%82%B9\"><span class=\"toc-text\">yaml 优点</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yaml-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">YAML 使用场景</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yaml-%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">YAML 语法：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yaml-%E7%9B%B8%E6%AF%94-json\"><span class=\"toc-text\">yaml 相比 json？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#yaml-%E4%B8%8E-yml-%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">yaml 与 yml 区别?</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><span class=\"toc-text\">参考资料：</span></a></li></ol></li></ol></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"从Json杀到Yaml","uid":"2679faecf929a89d04089c85f6582773","slug":"Language Learning/从json杀到yaml","date":"2021-11-16T08:15:04.000Z","updated":"2021-11-16T08:15:34.000Z","comments":true,"path":"api/articles/Language Learning/从json杀到yaml.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"从Json杀到Yaml Json介绍 什么是Json？ JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read and wr...","link":"","photos":[],"count_time":{"symbolsCount":"6.5k","symbolsTime":"6 mins."},"categories":[{"name":"Programming Language Learning","slug":"Programming-Language-Learning","count":1,"path":"api/categories/Programming-Language-Learning.json"}],"tags":[{"name":"Json","slug":"Json","count":2,"path":"api/tags/Json.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"建立一个FTP服务器吧!","uid":"0ff372827a992c33dc9a7dba52ce9123","slug":"Deploy/FTP部署","date":"2021-10-05T03:07:03.000Z","updated":"2023-10-27T19:03:42.000Z","comments":true,"path":"api/articles/Deploy/FTP部署.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"建立一个 FTP 服务器吧！ 注意你所购买的云服务商的文档， 比如这里的： 主动模式：放通端口 21。 被动模式：放通端口 21，及 修改配置文件 中设置的 pasv_min_port 到 pasv_max_port 之间的所有端口，本文放通端口为 40000 - 45000。 ...","link":"","photos":[],"count_time":{"symbolsCount":"9.9k","symbolsTime":"9 mins."},"categories":[{"name":"FTP","slug":"FTP","count":1,"path":"api/categories/FTP.json"}],"tags":[{"name":"FTP","slug":"FTP","count":1,"path":"api/tags/FTP.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}