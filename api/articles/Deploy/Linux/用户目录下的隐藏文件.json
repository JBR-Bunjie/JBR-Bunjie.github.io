{"title":"用户目录下的隐藏文件","uid":"df3dbd996fdf6e6a0e262b60be4e5d9a","slug":"Deploy/Linux/用户目录下的隐藏文件","date":"2022-01-16T03:07:12.000Z","updated":"2023-10-27T18:43:24.000Z","comments":true,"path":"api/articles/Deploy/Linux/用户目录下的隐藏文件.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<h1 id=\"用户目录下的隐藏文件\">用户目录下的隐藏文件</h1>\r\n<p>你的 home 目录下藏着很多隐藏文件，而.bashrc 就是其中之一</p>\r\n<h2 id=\"bashrc-是什么及修改.bashrc-能做到什么\">.bashrc\r\n是什么及修改.bashrc 能做到什么</h2>\r\n<p>如果你运行一个基于 Unix 或者类 Unix 的操作系统，bash\r\n很有可能是作为默认终端被安装的。虽然存在很多不同的 shell，bash\r\n却是最常见或许也是最主流的。同时，bash 在每次启动时都会加载 .bashrc\r\n文件的内容。每个用户的 home 目录都有这个 shell\r\n脚本。它用来存储并加载你的终端配置和环境变量。</p>\r\n<p>也就是说，一般情况下，我们能通过修改.bashrc 文件来定制我们当前账户的\r\nbash</p>\r\n<h3 id=\"修改\">修改</h3>\r\n<h4 id=\"为命令设置别名alias\">为命令设置别名：alias</h4>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">alias ll &#x3D; &quot;ls -lha&quot;</code></pre>\r\n<h4 id=\"函数\">函数:</h4>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">function_name () &#123;\n\tcommand_1\n\tcommand_2\n&#125;\n\n# md () &#123;\n#   mkdir -p $1\n#   cd $1\n# &#125;</code></pre>\r\n<p><a href=\"https://zhuanlan.zhihu.com/p/33546077\">什么是\r\n.bashrc，为什么要编辑 .bashrc？ | Linux 中国 - 知乎 (zhihu.com)</a></p>\r\n<h2 id=\"更多的隐藏文件\">更多的隐藏文件？</h2>\r\n<h3 id=\"补习linux-系统变量的类型\">补习：linux 系统变量的类型</h3>\r\n<p>按变量的生存周期划分：</p>\r\n<ul>\r\n<li><p>永久的：需要修改配置文件，变量永久生效。</p></li>\r\n<li><p>临时的：使用 export 命令声明即可，变量在关闭 shell\r\n时失效。</p></li>\r\n</ul>\r\n<p>在配置永久的环境变量时，又可以按照作用范围分为：</p>\r\n<ul>\r\n<li>用户环境变量</li>\r\n<li>系统环境变量。</li>\r\n</ul>\r\n<p>系统环境变量对所有系统用户都有效，用户环境变量仅仅对当前的用户有效。</p>\r\n<h3 id=\"设置环境变量\">设置环境变量</h3>\r\n<h4 id=\"直接运行-export-命令定义变量\">直接运行 export 命令定义变量</h4>\r\n<p>在 shell 的命令行下直接使用[export 变量名=变量值]\r\n定义变量。该变量只在当前的 shell（BASH）或其子\r\nshell（BASH）下是有效的，shell 关闭了，变量也就失效了，再打开新 shell\r\n时就没有这个变量，需要使用的话还需要重新定义。</p>\r\n<h4 id=\"修改系统环境变量\">修改系统环境变量</h4>\r\n<p>系统环境变量一般保存在下面的文件中</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&#x2F;etc&#x2F;profile</code></pre>\r\n<p>全局（公有）配置，不管是哪个用户，登录时都会读取该文件。</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&#x2F;etc&#x2F;bash.bashrc</code></pre>\r\n<p>它也是全局（公有）的 bash\r\n执行时，不管是何种方式，都会读取此文件。</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&#x2F;etc&#x2F;environment</code></pre>\r\n<p>不要轻易修改此文件</p>\r\n<h4 id=\"修改用户环境变量\">修改用户环境变量</h4>\r\n<p>用户环境变量通常被存储在下面的文件中：</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">~&#x2F;.profile</code></pre>\r\n<p>若 bash 是以 login\r\n方式执行时，读取~/.bash_profile，若它不存在，则读取~/.bash_login，若前两者不存在，读取~/.profile。</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">~&#x2F;.bash_profile 或者~.&#x2F;bash_login</code></pre>\r\n<p>若 bash 是以 login\r\n方式执行时，读取<sub>/.bash_profile，若它不存,则读取</sub>/.bash_login，若前两者不存在，读取\r\n~/.profile。 只有 bash 是以 login\r\n形式执行时，才会读取.bash_profile，Unbutu 默认没有此文件，可新建。\r\n通常该配置文件还会配置成去读取~/.bashrc。</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">~&#x2F;.bashrc</code></pre>\r\n<p>当 bash 是以 non-login 形式执行时，读取此文件。若是以 login\r\n形式执行，则不会读取此文件。</p>\r\n<p>~/.bash_profile 是交互式、login 方式进入 bash 运行的 ~/.bashrc\r\n是交互式 non-login 方式进入 bash\r\n运行的通常二者设置大致相同，所以通常前者会调用后者。</p>\r\n<h4 id=\"修改环境变量配置文件\">修改环境变量配置文件</h4>\r\n<p>如想将一个路径加入到环境变量（例如$PATH）中，可以像下面这样做（修改/etc/profile）：\r\nsudo vi /etc/profile 以环境变量 PATH 为例子，环境变量的声明格式：</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">PATH&#x3D;$PATH:PATH_1:PATH_2:PATH_3:------:PATH_N\nexport PATH</code></pre>\r\n<p>你可以自己加上指定的路径，中间用冒号隔开。环境变量更改后，在用户下次登陆时生效，如果想立刻生效，则可执行下面的语句：</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$source &#x2F;etc&#x2F;profile</code></pre>\r\n<h3 id=\"环境配置文件的区别\">环境配置文件的区别</h3>\r\n<h4 id=\"profile-bashrc.bash_profile-.bashrc-介绍\">profile、\r\nbashrc、.bash_profile、 .bashrc 介绍</h4>\r\n<p>bash 会在用户登录时，读取下列四个环境配置文件：</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">全局环境变量设置文件：&#x2F;etc&#x2F;profile、&#x2F;etc&#x2F;bashrc。\n用户环境变量设置文件：~&#x2F;.bash_profile、~&#x2F;.bashrc。</code></pre>\r\n<p>读取顺序：① /etc/profile、② ~/.bash_profile、③ ~/.bashrc、④\r\n/etc/bashrc。</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&#x2F;etc&#x2F;profile：此文件为系统的每个用户设置环境信息，系统中每个用户登录时都要执行这个脚本，如果系统管理员希望某个设置对所有用户都生效，可以写在这个脚本里，该文件也会从&#x2F;etc&#x2F;profile.d目录中的配置文件中搜集shell的设置。\n~&#x2F;.bash_profile：每个用户都可使用该文件设置专用于自己的shell信息，当用户登录时，该文件仅执行一次。默认情况下，他设置一些环境变量，执行用户的.bashrc文件。\n~&#x2F;.bashrc：该文件包含专用于自己的shell信息，当登录时以及每次打开新shell时，该文件被读取。\n&#x2F;etc&#x2F;bashrc：为每一个运行bash shell的用户执行此文件，当bash shell被打开时，该文件被读取。</code></pre>\r\n<h4 id=\"bashrc-和.bash_profile-的区别\">.bashrc 和.bash_profile\r\n的区别</h4>\r\n<p>.bash_profile 会用在登陆 shell， .bashrc 使用在交互式非登陆 shell\r\n。简单说来，它们的区别主要是.bash_profile\r\n是在你每次登录的时候执行的；.bashrc\r\n是在你新开了一个命令行窗口时执行的。</p>\r\n<p>当通过控制台进行登录（输入用户名和密码）：在初始化命令行提示符的时候会执行.bash_profile\r\n来配置你的 shell 环境。但是如果已经登录到机器，在 Gnome 或者是 KDE\r\n也开了一个新的终端窗口（xterm），这时，.bashrc\r\n会在窗口命令行提示符出现前被执行。当你在终端敲入/bin/bash 时.bashrc\r\n也会在这个新的 bash 实例启动的时候执行。</p>\r\n<h4 id=\"建议\">建议</h4>\r\n<p>大多数的时候你不想维护两个独立的配置文件，一个登录的一个非登录的\r\nshell。当你设置 PATH 时，你想在两个文件都适用。可以在.bash_profile\r\n中调用.bashrc，然后将 PATH 和其他通用的设置放到.bashrc 中。</p>\r\n<p>要做到这几点，添加以下几行到.bash_profile 中：</p>\r\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">if [ -f ~&#x2F;.bashrc ]; then\n    . ~&#x2F;.bashrc\nfi</code></pre>\r\n<p>现在，当你从控制台登录机器的时候，.bashrc 就会被执行。</p>\r\n<h3 id=\"常用的环境变量\">常用的环境变量</h3>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>command?</th>\r\n<th style=\"text-align: left;\">Description</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>BASH</td>\r\n<td style=\"text-align: left;\">Bash Shell 的全路径</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>CDPATH</td>\r\n<td style=\"text-align: left;\">用于快速进入某个目录。</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>PATH</td>\r\n<td style=\"text-align: left;\">决定了 shell\r\n将到哪些目录中寻找命令或程序</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>HOME</td>\r\n<td style=\"text-align: left;\">当前用户主目录</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>HISTSIZE</td>\r\n<td style=\"text-align: left;\">历史记录数</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>LOGNAME</td>\r\n<td style=\"text-align: left;\">当前用户的登录名</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>HOSTNAME</td>\r\n<td style=\"text-align: left;\">指主机的名称</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>SHELL</td>\r\n<td style=\"text-align: left;\">当前用户 Shell 类型</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>LANGUGE</td>\r\n<td\r\nstyle=\"text-align: left;\">语言相关的环境变量，多语言可以修改此环境变量</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>MAIL</td>\r\n<td style=\"text-align: left;\">当前用户的邮件存放目录</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>PS1</td>\r\n<td style=\"text-align: left;\">基本提示符，对于 root\r\n用户是#，对于普通用户是$</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"reference\">Reference</h2>\r\n<p>[0] <a href=\"https://www.cnblogs.com/lmh001/p/9999859.html\">Linux\r\n的环境变量.bash_profile .bashrc profile 文件 - lvmenghui001 - 博客园\r\n(cnblogs.com)</a></p>\r\n<p>[1] /etc/profile、/etc/bashrc、<sub>/.bash_profile、</sub>/.bashrc\r\nhttp://blog.chinaunix.net/uid-26435987-id-3400127.html [2] Linux\r\n如何修改 env 看到的环境变量？ .bashrc 和.bash_profile 区别\r\nhttp://blog.csdn.net/xifeijian/article/details/13355031 [3] linux\r\n环境变量，bashrc 与 bashprofile\r\nhttp://blog.sina.com.cn/s/blog_43e5ad4e0101ei43.html</p>\r\n","text":"用户目录下的隐藏文件 你的 home 目录下藏着很多隐藏文件，而.bashrc 就是其中之一 .bashrc 是什么及修改.bashrc 能做到什么 如果你运行一个基于 Unix 或者类 Unix 的操作系统，bash 很有可能是作为默认终端被安装的。虽然存在很多不同的 shel...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"Linux","slug":"Linux","count":5,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":12,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">用户目录下的隐藏文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#bashrc-%E6%98%AF%E4%BB%80%E4%B9%88%E5%8F%8A%E4%BF%AE%E6%94%B9.bashrc-%E8%83%BD%E5%81%9A%E5%88%B0%E4%BB%80%E4%B9%88\"><span class=\"toc-text\">.bashrc\r\n是什么及修改.bashrc 能做到什么</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9\"><span class=\"toc-text\">修改</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8Dalias\"><span class=\"toc-text\">为命令设置别名：alias</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">函数:</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E5%A4%9A%E7%9A%84%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">更多的隐藏文件？</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A1%A5%E4%B9%A0linux-%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">补习：linux 系统变量的类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">设置环境变量</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C-export-%E5%91%BD%E4%BB%A4%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">直接运行 export 命令定义变量</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">修改系统环境变量</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">修改用户环境变量</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">修改环境变量配置文件</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">环境配置文件的区别</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#profile-bashrc.bash_profile-.bashrc-%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">profile、\r\nbashrc、.bash_profile、 .bashrc 介绍</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#bashrc-%E5%92%8C.bash_profile-%E7%9A%84%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">.bashrc 和.bash_profile\r\n的区别</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%BB%BA%E8%AE%AE\"><span class=\"toc-text\">建议</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">常用的环境变量</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#reference\"><span class=\"toc-text\">Reference</span></a></li></ol></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"Linux Basic","uid":"cdbb3c31309c2a4943509b68e63af1ea","slug":"Deploy/Linux/Linux学习-Basic","date":"2022-01-16T03:11:11.000Z","updated":"2023-10-27T18:43:32.000Z","comments":true,"path":"api/articles/Deploy/Linux/Linux学习-Basic.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Linux Basic apt 配置 apt 切换国内源 linux 系统默认使用的软件源都是国外源，国内访问速度过慢，所以改为国内镜像源 sudo su进入 root 模式 vim /etc/apt/sources.list编辑软件源配置文件 按 i 进入 vim 的编辑模式，...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"Linux","slug":"Linux","count":5,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":12,"path":"api/tags/Linux.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"Linux Commands","uid":"cf6928b4c9e850c601b4eb72b04e5691","slug":"Deploy/Linux/Linux学习-Commands","date":"2022-01-16T03:07:03.000Z","updated":"2023-10-27T18:38:33.000Z","comments":true,"path":"api/articles/Deploy/Linux/Linux学习-Commands.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Linux Commands 清空系统历史命令 1. history -c 该命令只清空本次登入的所有输出命令，且不清空.bash_history 文件 所以下次登陆后，旧命令还将出现，历史命令是存在于当前用户根目录下的./bash_history 文件。 2. echo &gt...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"Linux","slug":"Linux","count":5,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":12,"path":"api/tags/Linux.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}