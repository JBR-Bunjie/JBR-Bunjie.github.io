{"title":"Unity Shader入门精要笔记 - Chapter7","uid":"874669ee5557de0847d70a81a2b48640","slug":"Rendering/UnityShaderBook/Chapter7","date":"2023-03-08T13:28:36.000Z","updated":"2023-10-27T19:33:44.000Z","comments":true,"path":"api/articles/Rendering/UnityShaderBook/Chapter7.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<h1 id=\"Unity-Shader入门精要笔记-Chapter7\"><a href=\"#Unity-Shader入门精要笔记-Chapter7\" class=\"headerlink\" title=\"Unity Shader入门精要笔记 - Chapter7\"></a>Unity Shader入门精要笔记 - Chapter7</h1><h2 id=\"Albedo-Texture\"><a href=\"#Albedo-Texture\" class=\"headerlink\" title=\"Albedo Texture\"></a>Albedo Texture</h2><p>纹理中最常见的类型，我们用来取代单纯的_Diffuse颜色</p>\n<h2 id=\"Bump-Mapping\"><a href=\"#Bump-Mapping\" class=\"headerlink\" title=\"Bump Mapping\"></a>Bump Mapping</h2><p>法线纹理，我们有两种具体的存储方式：</p>\n<ul>\n<li>高度纹理&#x2F;高度图<ul>\n<li>记录相对高度</li>\n</ul>\n</li>\n<li>法线纹理(Default)<ul>\n<li>模型空间存储<ul>\n<li>绝对法线信息</li>\n</ul>\n</li>\n<li>切线空间存储(Default)<ul>\n<li>法线扰动(相对法线信息)<ul>\n<li>直接在切线空间中计算相关结果</li>\n<li>转换到世界空间后再计算结果</li>\n</ul>\n</li>\n<li>可以通过高度图转化而来：-&gt;Normal Map-&gt;Create From GrayScale，之后Unity会根据高度图生成一张在切线空间下的法线纹理<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>在使用法线纹理前，请先将其Texture Type属性设置为Normal Map，这样我们才能调用Unity中的build-in function来快速解析Normal Map(内置函数能帮我们根据不同的压缩模式来针对性地加载贴图数据)<br>另：关于贴图的压缩模式，可见：<a href=\"http://wiki.polycount.com/wiki/Normal_Map_Compression\">http://wiki.polycount.com/wiki/Normal_Map_Compression</a></p></blockquote>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"切线空间\"><a href=\"#切线空间\" class=\"headerlink\" title=\"切线空间\"></a>切线空间</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>切线空间定义于每一个顶点之上</p></blockquote>\n<h3 id=\"切线与副切线及其计算\"><a href=\"#切线与副切线及其计算\" class=\"headerlink\" title=\"切线与副切线及其计算\"></a>切线与副切线及其计算</h3><h4 id=\"切线\"><a href=\"#切线\" class=\"headerlink\" title=\"切线\"></a>切线</h4><p>在一开始仅有Normal既定的情况下，一点上的切线是存在无数条的</p>\n<p>在这所有的切线之中，我们选择与当下点的uv坐标中，u轴同向的那条切线作为我们的T轴或x轴</p>\n<h4 id=\"副切线\"><a href=\"#副切线\" class=\"headerlink\" title=\"副切线\"></a>副切线</h4><p>当我们定好了T轴与N轴后，我们就可以通过cross运算得到我们的B轴：Binormal了</p>\n<p>但是我们完成cross运算后得到的副切线存在两个可选的方向，这时，利用Unity在tangent的w分量下预留的值来决定</p>\n<pre class=\"line-numbers language-shaderlab\" data-language=\"shaderlab\"><code class=\"language-shaderlab\">fixed3 worldNormal &#x3D; UnityObjectToWorldNormal(v.normal);\nfixed3 worldTangent &#x3D; UnityObjectToWorldDir(v.tangent.xyz);\n\nfixed tangentSign &#x3D; v.tangent.w; &#x2F;&#x2F; * unity_WorldTransformParams.w; &#x2F;&#x2F; Shader入门精要中未采用，但官方示例中存在\n&#x2F;&#x2F; unity_WorldTransformParams.w，定义于unityShaderVariables.cginc中\n&#x2F;&#x2F; 模型的Scale值是三维向量，即vec3，当这三个值中有奇数个值为负时（1个或者3个值全为负时），unity_WorldTransformParams.w &#x3D; -1，否则为1.\n\nfixed3 worldBinormal &#x3D; cross(worldNormal, worldTangent) * tangentSign;</code></pre>\n\n<h3 id=\"TBN矩阵\"><a href=\"#TBN矩阵\" class=\"headerlink\" title=\"TBN矩阵\"></a>TBN矩阵</h3><p>用于在 <code>Object Space</code> 和 <code>Tangent Space</code> 间进行转换</p>\n<p>这在实际上类似于view矩阵的变换：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>参见文档<code>Technical Artist\\Opengl\\learnopengl-cn.readthedocs.io\\01GettingStarted\\06Transform.md\\1.7.1.2.2.1 View/Camera transformation</code></p></blockquote>\n<p>结论为：<code>做将原点移动至当前顶点位置的变换</code>，其中由于切线空间更多为向量服务，所以我们更关心坐标轴上的rotation，而非原点到顶点上的transform</p>\n<p><strong>注意区分变换的方向，搞明白当前是从切线空间变换到世界空间还是相反</strong></p>\n<h2 id=\"可参考资料：\"><a href=\"#可参考资料：\" class=\"headerlink\" title=\"可参考资料：\"></a>可参考资料：</h2><ul>\n<li><a href=\"https://zhuanlan.zhihu.com/p/139593847\">切线空间（Tangent Space）完全解析 - 知乎 (zhihu.com)</a></li>\n<li>U3D内建着色器源码剖析 110页下4.2.8中相关内容</li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/103546030\">关于顶点的法线、切线、副切线 - 知乎 (zhihu.com)</a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Mesh-tangents.html\">Unity - Scripting API: Mesh.tangents (unity3d.com)</a></li>\n<li><a href=\"http://warmcat.org/chai/blog/?p=2004\">CHAI’S BLOG » 切线的tangent.w的值1或-1的意义 (warmcat.org)</a></li>\n</ul>\n<h2 id=\"番外：\"><a href=\"#番外：\" class=\"headerlink\" title=\"番外：\"></a>番外：</h2><h3 id=\"DCC-Software\"><a href=\"#DCC-Software\" class=\"headerlink\" title=\"DCC Software\"></a><code>DCC Software</code></h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>所谓DCC，就是Digital Content Creation的缩写，即数字内容创作。DCC的范围包括二维&#x2F;三维、音频&#x2F;视频剪辑合成、动态&#x2F;互动内容创作、图像编辑等。</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/506895643\">2.1 DCC工具链与引擎工具链 - 知乎 (zhihu.com)</a></p></blockquote>\n<h3 id=\"随记-计算光方向\"><a href=\"#随记-计算光方向\" class=\"headerlink\" title=\"随记 - 计算光方向\"></a>随记 - 计算光方向</h3><p>我们开始使用如下built-in函数来取代先前章节用来计算光线向量的方法：</p>\n<pre class=\"line-numbers language-shaderlab\" data-language=\"shaderlab\"><code class=\"language-shaderlab\">&#x2F;&#x2F;fixed3 world_light &#x3D; normalize(_WorldSpaceLightPos0.xyz);\n&#x2F;&#x2F; &#x3D;&gt;\nfixed3 world_light &#x3D; UnityWorldSpaceLightDir(i.worldPos);</code></pre>\n\n<p>查看该函数源码，可以看到：</p>\n<pre class=\"line-numbers language-shaderlab\" data-language=\"shaderlab\"><code class=\"language-shaderlab\">inline float3 UnityWorldSpaceLightDir( in float3 worldPos )\n&#123;\n    #ifndef USING_LIGHT_MULTI_COMPILE\n        return _WorldSpaceLightPos0.xyz - worldPos * _WorldSpaceLightPos0.w;\n    #else\n        #ifndef USING_DIRECTIONAL_LIGHT &#x2F;&#x2F;务必注意，这里是&#96;#if n def&#96;，不要误以为平行光会进入该分支！\n        return _WorldSpaceLightPos0.xyz - worldPos;\n        #else &#x2F;&#x2F;如果是平行光，则直接返回该点位置\n        return _WorldSpaceLightPos0.xyz;\n        #endif\n    #endif\n&#125;</code></pre>\n<h3 id=\"随记-遮罩纹理-Mask-Texture\"><a href=\"#随记-遮罩纹理-Mask-Texture\" class=\"headerlink\" title=\"随记 - 遮罩纹理 Mask Texture\"></a>随记 - 遮罩纹理 Mask Texture</h3><h3 id=\"AO-Ambient-Occlusion-环境光遮蔽\"><a href=\"#AO-Ambient-Occlusion-环境光遮蔽\" class=\"headerlink\" title=\"AO - Ambient Occlusion - 环境光遮蔽\"></a>AO - Ambient Occlusion - 环境光遮蔽</h3><h3 id=\"随记-Texture种类\"><a href=\"#随记-Texture种类\" class=\"headerlink\" title=\"随记 - Texture种类\"></a>随记 - Texture种类</h3><ul>\n<li>用来定义模型反射率的Tex(MainTex) - Albedo</li>\n<li>用来定义表面法线的Normal Map - Normal</li>\n<li>用来控制模型漫反射光照色调的渐变纹理：RampTex<pre class=\"line-numbers language-shaderlab\" data-language=\"shaderlab\"><code class=\"language-shaderlab\">diffuseColor &#x3D; tex2D(_RampTex, fixed2(halfLambert, halfLambert)).rgb * _Color.rgb </code></pre></li>\n<li>用来控制模型</li>\n</ul>\n<h3 id=\"PROBLEM-1\"><a href=\"#PROBLEM-1\" class=\"headerlink\" title=\"PROBLEM 1:\"></a>PROBLEM 1:</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>None of the overloads accepts 2 arguments</p></blockquote>\n<p>Pay attention to your vars type</p>\n<pre class=\"line-numbers language-shaderlab\" data-language=\"shaderlab\"><code class=\"language-shaderlab\">&#x2F;&#x2F;float4 _MainTex\n&#x2F;&#x2F;&#x2F;&#x2F; &#x3D;&gt;\nsampler2D _MainTex</code></pre>\n\n<h2 id=\"优化\"><a href=\"#优化\" class=\"headerlink\" title=\"优化\"></a>优化</h2><p>节约插值寄存器，当两个纹理的操作相同时，仅保留其中一个float4 ST向量</p>\n","text":"Unity Shader入门精要笔记 - Chapter7Albedo Texture纹理中最常见的类型，我们用来取代单纯的_Diffuse颜色 Bump Mapping法线纹理，我们有两种具体的存储方式： 高度纹理&#x2F;高度图 记录相对高度 法线纹理(Default) 模...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"Unity","slug":"Unity","count":17,"path":"api/categories/Unity.json"}],"tags":[{"name":"Unity","slug":"Unity","count":17,"path":"api/tags/Unity.json"},{"name":"Shader","slug":"Shader","count":33,"path":"api/tags/Shader.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Unity-Shader%E5%85%A5%E9%97%A8%E7%B2%BE%E8%A6%81%E7%AC%94%E8%AE%B0-Chapter7\"><span class=\"toc-text\">Unity Shader入门精要笔记 - Chapter7</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Albedo-Texture\"><span class=\"toc-text\">Albedo Texture</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Bump-Mapping\"><span class=\"toc-text\">Bump Mapping</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%87%E7%BA%BF%E7%A9%BA%E9%97%B4\"><span class=\"toc-text\">切线空间</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%87%E7%BA%BF%E4%B8%8E%E5%89%AF%E5%88%87%E7%BA%BF%E5%8F%8A%E5%85%B6%E8%AE%A1%E7%AE%97\"><span class=\"toc-text\">切线与副切线及其计算</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%87%E7%BA%BF\"><span class=\"toc-text\">切线</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%89%AF%E5%88%87%E7%BA%BF\"><span class=\"toc-text\">副切线</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#TBN%E7%9F%A9%E9%98%B5\"><span class=\"toc-text\">TBN矩阵</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%AF%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%EF%BC%9A\"><span class=\"toc-text\">可参考资料：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%95%AA%E5%A4%96%EF%BC%9A\"><span class=\"toc-text\">番外：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DCC-Software\"><span class=\"toc-text\">DCC Software</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%9A%8F%E8%AE%B0-%E8%AE%A1%E7%AE%97%E5%85%89%E6%96%B9%E5%90%91\"><span class=\"toc-text\">随记 - 计算光方向</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%9A%8F%E8%AE%B0-%E9%81%AE%E7%BD%A9%E7%BA%B9%E7%90%86-Mask-Texture\"><span class=\"toc-text\">随记 - 遮罩纹理 Mask Texture</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#AO-Ambient-Occlusion-%E7%8E%AF%E5%A2%83%E5%85%89%E9%81%AE%E8%94%BD\"><span class=\"toc-text\">AO - Ambient Occlusion - 环境光遮蔽</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%9A%8F%E8%AE%B0-Texture%E7%A7%8D%E7%B1%BB\"><span class=\"toc-text\">随记 - Texture种类</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#PROBLEM-1\"><span class=\"toc-text\">PROBLEM 1:</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">优化</span></a></li></ol></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"Unity Shader入门精要笔记 - Chapter8","uid":"2bc7a87b3796f4bb992e3de5b4dfef67","slug":"Rendering/UnityShaderBook/Chapter8","date":"2023-03-08T13:28:45.000Z","updated":"2023-10-27T19:33:05.000Z","comments":true,"path":"api/articles/Rendering/UnityShaderBook/Chapter8.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Unity Shader入门精要笔记 - Chapter8Alpha Test只要没通过透明度测试，就舍弃该片元 Important HLSL FunctionsClip Function https://learn.microsoft.com/en-us/windows/win...","link":"","photos":[],"count_time":{"symbolsCount":616,"symbolsTime":"1 mins."},"categories":[{"name":"Unity","slug":"Unity","count":17,"path":"api/categories/Unity.json"}],"tags":[{"name":"Unity","slug":"Unity","count":17,"path":"api/tags/Unity.json"},{"name":"Shader","slug":"Shader","count":33,"path":"api/tags/Shader.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"Unity Shader入门精要笔记 - Chapter6","uid":"a89249a3d5a65fa935d2ff8b3c1ccd10","slug":"Rendering/UnityShaderBook/Chapter6","date":"2023-03-08T13:28:06.000Z","updated":"2023-10-27T19:34:05.000Z","comments":true,"path":"api/articles/Rendering/UnityShaderBook/Chapter6.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Unity Shader入门精要笔记 - Chapter6_WorldSpaceLightPos0 lighting.cginc https://docs.unity3d.com/Manual/SL-UnityShaderVariables.html type: float4 D...","link":"","photos":[],"count_time":{"symbolsCount":240,"symbolsTime":"1 mins."},"categories":[{"name":"Unity","slug":"Unity","count":17,"path":"api/categories/Unity.json"}],"tags":[{"name":"Unity","slug":"Unity","count":17,"path":"api/tags/Unity.json"},{"name":"Shader","slug":"Shader","count":33,"path":"api/tags/Shader.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}