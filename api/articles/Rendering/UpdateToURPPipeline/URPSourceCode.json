{"title":"URP源码分析","uid":"23661fa8ae25c981d575d8f076eed3e1","slug":"Rendering/UpdateToURPPipeline/URPSourceCode","date":"2023-04-08T13:32:05.000Z","updated":"2023-10-27T20:19:19.000Z","comments":true,"path":"api/articles/Rendering/UpdateToURPPipeline/URPSourceCode.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<h1 id=\"URP源码分析\"><a href=\"#URP源码分析\" class=\"headerlink\" title=\"URP源码分析\"></a>URP源码分析</h1><h2 id=\"依赖信息：\"><a href=\"#依赖信息：\" class=\"headerlink\" title=\"依赖信息：\"></a>依赖信息：</h2><ul>\n<li>Editor版本：2021.21f1 LTS</li>\n<li>Shader版本：URP 12.1.10</li>\n</ul>\n<h2 id=\"URP-Package总览\"><a href=\"#URP-Package总览\" class=\"headerlink\" title=\"URP Package总览\"></a>URP Package总览</h2><p>首先，当我们下载URP资源时，我们的项目的Package中会出现这些内容：</p>\n<p><img src=\"/......%5Cimages%5CDev%5CUnity%5CSourceCodeAnalysis%5CURPSourceCode%5C001.png\" alt=\"image-20230408215042373\"><br><em>URP资源结构 - com.unity.render-pipelines.universal Part</em></p>\n<p><img src=\"/......%5Cimages%5CDev%5CUnity%5CSourceCodeAnalysis%5CURPSourceCode%5C002.png\" alt=\"image-20230408215738417\"><br><em>URP资源结构 - com.unity.render-pipelines.core Part</em></p>\n<p>这两个Library一起，组成了我们的URP资源，这也是我们在实际使用时引入资源的两个对应的实际位置：</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include &quot;Packages&#x2F;com.unity.render-pipelines.universal&#x2F;ShaderLibrary&#x2F;Core.hlsl&quot;\n#include &quot;Packages&#x2F;com.unity.render-pipelines.core&#x2F;ShaderLibrary&#x2F;Common.hlsl&quot;</code></pre>\n\n<p>由于这两个Package实际上是互相引用的，所以我们就先就着 <code>Universal RP</code> 来展开：</p>\n<ul>\n<li>Documentation的包含了大量的说明文档，这些都是帮助我们理解URP资源的好资料。这些内容和官方网站上是完全一致的，所以也没必要就着这里面看——<a href=\"https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1/manual/index.html\">Universal Render Pipeline overview | Universal RP | 12.1.10 (unity3d.com)</a></li>\n<li>Editor</li>\n<li>Runtime：</li>\n<li>Samples：示例文件、资源及工程</li>\n<li><strong>ShaderLibrary</strong></li>\n<li><strong>Shaders</strong></li>\n<li>Tests</li>\n<li>Textures</li>\n</ul>\n<h2 id=\"从Core-hlsl开始\"><a href=\"#从Core-hlsl开始\" class=\"headerlink\" title=\"从Core.hlsl开始\"></a>从Core.hlsl开始</h2><p>这是我们最早接触的一个hlsl文件。</p>\n<p>总的来说，这个文件做了这么三件事：</p>\n<p>- </p>\n<h3 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h3><h4 id=\"1-2及196\"><a href=\"#1-2及196\" class=\"headerlink\" title=\"1~2及196\"></a>1~2及196</h4><p>第1~2行与第196行是防止重复引用的判断语句。</p>\n<h4 id=\"4-6\"><a href=\"#4-6\" class=\"headerlink\" title=\"4~6\"></a>4~6</h4><p>之后的4~5行是注释：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>&#x2F;&#x2F; <em>VT is not supported in URP (for now) this ensures any shaders using the VT</em><br>&#x2F;&#x2F; <em>node work by falling to regular texture sampling.</em></p></blockquote>\n<p>并在第6行做了定义：#define FORCE_VIRTUAL_TEXTURING_OFF 1</p>\n<p>快速而全面地了解VT，可以看:</p>\n<ul>\n<li><a href=\"https://docs.unity3d.com/2020.1/Documentation/Manual/svt-marking-textures.html\">Unity - Manual: Marking textures as “Virtual Texturing Only” (unity3d.com)</a></li>\n<li>[Official - Feedback Wanted: Streaming Virtual Texturing - Unity Forum](<a href=\"https://forum.unity.com/threads/feedback-wanted-streaming-virtual-texturing.849133/#:~:text=Streaming\">https://forum.unity.com/threads/feedback-wanted-streaming-virtual-texturing.849133/#:~:text=Streaming</a> Virtual Texturing is a texture streaming feature,tiles to GPU memory when they are needed.)</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Streaming Virtual Texturing is a texture streaming feature that reduces GPU memory usage and Texture loading times when you have many high resolution Textures in your scene. It works by splitting Textures into tiles, and progressively uploading these tiles to GPU memory when they are needed.</p></blockquote>\n<h4 id=\"8-14\"><a href=\"#8-14\" class=\"headerlink\" title=\"8~14\"></a>8~14</h4><p>第8~14行，我们定义的是集群渲染，这个在过去文档中有过相关描述，论坛中也有相关讨论<br><a href=\"https://docs.unity3d.com/560/Documentation/Manual/ClusterRendering.html\">Unity - Manual: Cluster Rendering (unity3d.com)</a><br><a href=\"https://forum.unity.com/threads/any-info-on-experimental-urp-12-clustered-rendering-option.1238071/\">Any info on experimental URP 12 clustered rendering option? - Unity Forum</a></p>\n<h4 id=\"16-19\"><a href=\"#16-19\" class=\"headerlink\" title=\"16~19\"></a>16~19</h4><p>引入了四个外部文件，来自core和universal两个位置。这些内容主要做了这些事：</p>\n<p>- </p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include &quot;Packages&#x2F;com.unity.render-pipelines.core&#x2F;ShaderLibrary&#x2F;Common.hlsl&quot;\n#include &quot;Packages&#x2F;com.unity.render-pipelines.core&#x2F;ShaderLibrary&#x2F;Packing.hlsl&quot;\n#include &quot;Packages&#x2F;com.unity.render-pipelines.core&#x2F;ShaderLibrary&#x2F;Version.hlsl&quot;\n#include &quot;Packages&#x2F;com.unity.render-pipelines.universal&#x2F;ShaderLibrary&#x2F;Input.hlsl&quot;</code></pre>\n\n\n\n<h4 id=\"21-46\"><a href=\"#21-46\" class=\"headerlink\" title=\"21~46\"></a>21~46</h4><p>21~27行检查并定义了宏 <code>SHADER_HINT_NICE_QUALITY</code>，如未定义则默认基于可能存在的移动平台宏 <code>SHADER_API_MOBILE</code> 和Switch <code>SHADER_API_SWITCH</code> 设为0，其他为1。<br><a href=\"https://blog.csdn.net/kan464872327/article/details/108618500\">ShaderLibrary - DefineSysmbols_装大炮的自行车的博客-CSDN博客</a></p>\n<p>这之后的29~42行，则根据 <code>SHADER_HINT_NICE_QUALITY</code> 及实际调用的API输出分别输出 <code>SHADER_QUALITY_HIGH</code>, <code>SHADER_QUALITY_MEDIUM</code>, <code>SHADER_QUALITY_LOW</code>三个宏之一</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>&#x2F;&#x2F; Shader Quality Tiers in Universal.<br>&#x2F;&#x2F; SRP doesn’t use Graphics Settings Quality Tiers.<br>&#x2F;&#x2F; We should expose shader quality tiers in the pipeline asset.</p>\n<p>&#x2F;&#x2F; Meanwhile, it’s forced to be:<br>&#x2F;&#x2F; High Quality: Non-mobile platforms or shader explicit defined <code>SHADER_HINT_NICE_QUALITY</code><br>&#x2F;&#x2F; Medium: Mobile aside from GLES2<br>&#x2F;&#x2F; Low: GLES2</p></blockquote>\n<p>然后在44~46行对 <code>SHADER_HINT_NICE_QUALITY</code> 取反得到宏 <code>BUMP_SCALE_NOT_SUPPORTED</code></p>\n<h4 id=\"49-65\"><a href=\"#49-65\" class=\"headerlink\" title=\"49~65\"></a>49~65</h4><p>根据具体的平台使用(主要是 <code>UNITY_REVERSED_Z</code> 和 <code>UNITY_UV_STARTS_AT_TOP</code> 宏)，UNITY做了关于裁剪空间的兼容性处理，内容如下：</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#if UNITY_REVERSED_Z\n    &#x2F;&#x2F; TODO: workaround. There&#39;s a bug where SHADER_API_GL_CORE gets erroneously defined on switch.\n    #if (defined(SHADER_API_GLCORE) &amp;&amp; !defined(SHADER_API_SWITCH)) || defined(SHADER_API_GLES) || defined(SHADER_API_GLES3)\n        &#x2F;&#x2F;GL with reversed z &#x3D;&gt; z clip range is [near, -far] -&gt; remapping to [0, far]\n        #define UNITY_Z_0_FAR_FROM_CLIPSPACE(coord) max((coord - _ProjectionParams.y)&#x2F;(-_ProjectionParams.z-_ProjectionParams.y)*_ProjectionParams.z, 0)\n    #else\n        &#x2F;&#x2F;D3d with reversed Z &#x3D;&gt; z clip range is [near, 0] -&gt; remapping to [0, far]\n        &#x2F;&#x2F;max is required to protect ourselves from near plane not being correct&#x2F;meaningful in case of oblique matrices.\n        #define UNITY_Z_0_FAR_FROM_CLIPSPACE(coord) max(((1.0-(coord)&#x2F;_ProjectionParams.y)*_ProjectionParams.z),0)\n    #endif\n#elif UNITY_UV_STARTS_AT_TOP\n    &#x2F;&#x2F;D3d without reversed z &#x3D;&gt; z clip range is [0, far] -&gt; nothing to do\n    #define UNITY_Z_0_FAR_FROM_CLIPSPACE(coord) (coord)\n#else\n    &#x2F;&#x2F;Opengl &#x3D;&gt; z clip range is [-near, far] -&gt; remapping to [0, far]\n    #define UNITY_Z_0_FAR_FROM_CLIPSPACE(coord) max(((coord + _ProjectionParams.y)&#x2F;(_ProjectionParams.z+_ProjectionParams.y))*_ProjectionParams.z, 0)\n#endif</code></pre>\n\n<p>原理是：</p>\n<p>虽然OpenGL和D3D在从View Space变化到Clip Space中的方式都是类似的，但是实际的值域却有所不同：</p>\n<ol>\n<li><p>屏幕空间差异：当我们使用 <code>渲染到纹理技术</code> （render Texture）时，就有可能出现问题，这对应了 <code>UNITY_UV_STARTS_AT_TOP</code> 宏</p>\n<p><img src=\"/......%5Cimages%5CDev%5CUnity%5CSourceCodeAnalysis%5CURPSourceCode%5C003.png\" alt=\"image-20230409155215810\"></p>\n</li>\n<li></li>\n</ol>\n<h4 id=\"68-104\"><a href=\"#68-104\" class=\"headerlink\" title=\"68~104\"></a>68~104</h4><p>根据宏 <code>UNITY_STEREO_INSTANCING_ENABLED</code> 和宏 <code>UNITY_STEREO_MULTIVIEW_ENABLED</code> 的是否启用，对 TEXTURE 类函数做了兼容层。</p>\n<h4 id=\"177-190\"><a href=\"#177-190\" class=\"headerlink\" title=\"177~190\"></a>177~190</h4><p>定义了两个结构体 <code>VertexPositionInputs</code> 和 <code>VertexNormalnputs</code>，这是两个我们常用的结构体</p>\n<h4 id=\"193-194\"><a href=\"#193-194\" class=\"headerlink\" title=\"193~194\"></a>193~194</h4><p>从 universal 中引入了两个外置文件：</p>\n<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include &quot;Packages&#x2F;com.unity.render-pipelines.universal&#x2F;ShaderLibrary&#x2F;ShaderVariablesFunctions.hlsl&quot;\n#include &quot;Packages&#x2F;com.unity.render-pipelines.universal&#x2F;ShaderLibrary&#x2F;Deprecated.hlsl&quot;</code></pre>\n\n<p>让我们先就着 <code>ShaderVariablesFunctions.hlsl</code> 继续</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><ul>\n<li><a href=\"https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1/manual/index.html\">Universal Render Pipeline overview | Universal RP | 12.1.10 (unity3d.com)</a></li>\n<li><a href=\"https://docs.unity3d.com/2020.1/Documentation/Manual/svt-marking-textures.html\">Unity - Manual: Marking textures as “Virtual Texturing Only” (unity3d.com)</a></li>\n<li>[Official - Feedback Wanted: Streaming Virtual Texturing - Unity Forum](<a href=\"https://forum.unity.com/threads/feedback-wanted-streaming-virtual-texturing.849133/#:~:text=Streaming\">https://forum.unity.com/threads/feedback-wanted-streaming-virtual-texturing.849133/#:~:text=Streaming</a> Virtual Texturing is a texture streaming feature,tiles to GPU memory when they are needed.)</li>\n<li><a href=\"https://blog.csdn.net/kan464872327/article/details/108618500\">ShaderLibrary - DefineSysmbols_装大炮的自行车的博客-CSDN博客</a></li>\n</ul>\n","text":"URP源码分析依赖信息： Editor版本：2021.21f1 LTS Shader版本：URP 12.1.10 URP Package总览首先，当我们下载URP资源时，我们的项目的Package中会出现这些内容： URP资源结构 - com.unity.render-pipel...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"Unity","slug":"Unity","count":17,"path":"api/categories/Unity.json"}],"tags":[{"name":"Unity","slug":"Unity","count":17,"path":"api/tags/Unity.json"},{"name":"Shader","slug":"Shader","count":33,"path":"api/tags/Shader.json"},{"name":"URP","slug":"URP","count":1,"path":"api/tags/URP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#URP%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90\"><span class=\"toc-text\">URP源码分析</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BE%9D%E8%B5%96%E4%BF%A1%E6%81%AF%EF%BC%9A\"><span class=\"toc-text\">依赖信息：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#URP-Package%E6%80%BB%E8%A7%88\"><span class=\"toc-text\">URP Package总览</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8ECore-hlsl%E5%BC%80%E5%A7%8B\"><span class=\"toc-text\">从Core.hlsl开始</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%9E%90\"><span class=\"toc-text\">分析</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-2%E5%8F%8A196\"><span class=\"toc-text\">1~2及196</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-6\"><span class=\"toc-text\">4~6</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-14\"><span class=\"toc-text\">8~14</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#16-19\"><span class=\"toc-text\">16~19</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#21-46\"><span class=\"toc-text\">21~46</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#49-65\"><span class=\"toc-text\">49~65</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#68-104\"><span class=\"toc-text\">68~104</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#177-190\"><span class=\"toc-text\">177~190</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#193-194\"><span class=\"toc-text\">193~194</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Reference\"><span class=\"toc-text\">Reference</span></a></li></ol></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"Custom Right-Click Menu And Shader GUI排列","uid":"a21e0605e124236f924885120b82421a","slug":"Rendering/CustomRightClickMenuAndShaderGUI","date":"2023-04-10T08:32:30.000Z","updated":"2023-10-27T20:19:38.000Z","comments":true,"path":"api/articles/Rendering/CustomRightClickMenuAndShaderGUI.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Custom Right-Click Menu And Shader GUI All the operations in this project should be done in a folder named &quot;Editor&quot;, no matter whe...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"Unity","slug":"Unity","count":17,"path":"api/categories/Unity.json"},{"name":"Shader","slug":"Unity/Shader","count":7,"path":"api/categories/Unity/Shader.json"}],"tags":[{"name":"Unity","slug":"Unity","count":17,"path":"api/tags/Unity.json"},{"name":"Shader","slug":"Shader","count":33,"path":"api/tags/Shader.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"URP Chapter4 - 卡通渲染","uid":"54d190e1f1807867e70fac21b913c281","slug":"Rendering/UpdateToURPPipeline/Chapter4_ToonLit","date":"2023-04-06T13:52:05.000Z","updated":"2023-10-27T20:18:57.000Z","comments":true,"path":"api/articles/Rendering/UpdateToURPPipeline/Chapter4_ToonLit.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"Chapter4 - 卡通渲染上一章我们已经分析了 Unity 内置的 Lit Shader，这是 Unity 在 URP 管线下的默认 Shader 而在这一章，我们将视线转向卡通渲染： Reference kwshh&#x2F;unity_lit_toonshader (gi...","link":"","photos":[],"count_time":{"symbolsCount":151,"symbolsTime":"1 mins."},"categories":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/categories/Algorithm.json"}],"tags":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/tags/Algorithm.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}