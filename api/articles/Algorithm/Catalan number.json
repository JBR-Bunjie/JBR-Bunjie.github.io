{"title":"Catalan Number","uid":"413173748dc9f0bf852352ce35bf92b1","slug":"Algorithm/Catalan number","date":"2022-12-23T04:23:23.000Z","updated":"2023-11-01T04:23:09.828Z","comments":true,"path":"api/articles/Algorithm/Catalan number.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<p>wikipedia-en: <a\r\nhref=\"https://en.wikipedia.org/wiki/Catalan_number?wprov=srpw1_0\">Catalan\r\nnumber - Wikipedia</a></p>\r\n<p>wikipedia-cn:<a\r\nhref=\"https://zh.wikipedia.org/wiki/卡塔兰数\">卡塔兰数 -\r\n维基百科，自由的百科全书 (wikipedia.org)</a></p>\r\n<p>强烈推荐这篇博客：<span id=\"blog1\"><a\r\nhref=\"https://www.cnblogs.com/Morning-Glory/p/11747744.html\">卡特兰(Catalan)数入门详解\r\n- Morning_Glory - 博客园 (cnblogs.com)</a></span></p>\r\n<p><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/58374aa2b2e2c016a5b313e2bbd59940a2e1a5f9\"></p>\r\n<h2 id=\"catalan-number\">Catalan Number</h2>\r\n<blockquote>\r\n<p>In <a\r\nhref=\"https://en.wikipedia.org/wiki/Combinatorics\">combinatorial\r\nmathematics</a>, the <strong>Catalan numbers</strong> are a <a\r\nhref=\"https://en.wikipedia.org/wiki/Sequence\">sequence</a> of <a\r\nhref=\"https://en.wikipedia.org/wiki/Natural_number\">natural numbers</a>\r\nthat occur in various <a\r\nhref=\"https://en.wikipedia.org/wiki/Enumeration\">counting problems</a>,\r\noften involving <a\r\nhref=\"https://en.wikipedia.org/wiki/Recursion\">recursively</a> defined\r\nobjects. They are named after the French-Belgian mathematician <a\r\nhref=\"https://en.wikipedia.org/wiki/Eugène_Charles_Catalan\">Eugène\r\nCharles Catalan</a> (1814–1894).</p>\r\n<p>The first Catalan numbers for <em>n</em> = 0, 1, 2, 3, ... are</p>\r\n<p>​ 1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, 58786, ...\r\n(sequence <a href=\"https://oeis.org/A000108\">A000108</a> in the <a\r\nhref=\"https://en.wikipedia.org/wiki/On-Line_Encyclopedia_of_Integer_Sequences\">OEIS</a>).</p>\r\n</blockquote>\r\n<h3 id=\"意义\">意义？</h3>\r\n<blockquote>\r\n<p><a href=\"#blog1\">卡特兰数是一个在组合数学里经常出现的一个数列，它并没有一个具体的意义，却是一个十分常见的数学规律</a></p>\r\n</blockquote>\r\n<p>也就是说：只要我们能在实际解决问题的过程中，发现当前问题符合Catalan\r\nNumber的定义(公式)，就可以直接利用Cantanlan的相关公式来解决</p>\r\n<h3 id=\"定义\">定义：</h3>\r\n<p>设h(n)为catalan数的第n项，令h(0)=1,h(1)=1，catalan数满足递推式：</p>\r\n<p>h(n) = h(0) * h(n-1) + h(1) * h(n-2) + ... + h(n-1) * h(0) (n≥2)</p>\r\n<h3 id=\"容易计算的推导公式\">容易计算的推导公式：</h3>\r\n<p><em>可以看英文维基的推导过程</em></p>\r\n<p>The <em>n</em>th Catalan number can be expressed directly in terms of\r\n<a href=\"https://en.wikipedia.org/wiki/Binomial_coefficient\">binomial\r\ncoefficients</a> by</p>\r\n<p><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/58374aa2b2e2c016a5b313e2bbd59940a2e1a5f9\"></p>\r\n<p><del>(公式中的括号表达式请勿用组合的方式来计算)</del></p>\r\n<p>An alternative expression for <em>Cn</em> is</p>\r\n<p><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3b75076b78d4c388d623c5111021d713efea031\"></p>\r\n<h2 id=\"usage\">usage</h2>\r\n<h3 id=\"例题1\">例题1：</h3>\r\n<p>题目：2N个人排队买电影票，N个人持5元买票，N个人持10元买票。售票处在售票前只有票没有钱，票价5元，问有多少种排队方式能让2N个人顺利买票，并且输出所有排队队列（不会因为找钱问题）</p>\r\n<p>题解：设x为当前已购票人群中持五元的人数，设y为当前已购票人群中持十元的人数</p>\r\n<p>则易知，任何时候都应有x &gt;= y</p>\r\n<p>将本题转换为坐标系上的问题</p>\r\n<p>则有：</p>\r\n<figure>\r\n<img src=\"....\\images\\Algorithm\\CatalanNumberPic01.png\"\r\nalt=\"image-20220126215930311\" />\r\n<figcaption aria-hidden=\"true\">image-20220126215930311</figcaption>\r\n</figure>\r\n<p>易知，所有在直线y = x之下的路径都是合法路径，而所有与y = x +\r\n1有交集的路径都是非法路径</p>\r\n<p>我们所需要做的，只是从所有的可能路径——C(2n,\r\nn)中，取出非法路径即可</p>\r\n<p>将所有经过y = x + 1的非法路径(因为所有路径仍然都是要到达(n,n)的)\r\n对直线y = x + 1进行对称</p>\r\n<p>此时所有路径都会到达点 (n - 1, n + 1)</p>\r\n<p>故易知，所有非法路径总数：C(2n, n-1)</p>\r\n<p>故最终结果为：C(2n, n) - C(2n, n-1)</p>\r\n<p><strong>由此题我们可以看出Catalan\r\nNumber类题目的相关特征——使用高度相关的两种数据进行先后排序</strong></p>\r\n<h3 id=\"例题2\">例题2：</h3>\r\n<p>题目：电影院卖电影票，但是没有零钱找，票价一张 5 元，买票的人为 n\r\n个持有 5 元，m个持 有 10\r\n元，求解出可能的买票序列的个数，使得电影院能够将票卖完。</p>\r\n<p>测试数据：</p>\r\n<blockquote>\r\n<ol type=\"1\">\r\n<li>n=3, m=3</li>\r\n</ol>\r\n<p>输出：180</p>\r\n<ol start=\"2\" type=\"1\">\r\n<li>n=5, m=3</li>\r\n</ol>\r\n<p>输出：20160</p>\r\n<ol start=\"3\" type=\"1\">\r\n<li><p>n=100, m=100</p>\r\n<p>输出：7808493736285054490617457563685000616783524531556170923710322111330291583796072702181230534772124989150269427118016226042154879111313238663979471534186434961519434230403597200370267217266558867539125388517366666256080507202260345081955685568391820824161596607976035333269564672318518060023284166918774048734879105185187102720000000000000000000000000000000000000000000000000</p></li>\r\n</ol>\r\n</blockquote>\r\n<p>解法：和例题一几乎一致，但是具体公式不再能直接套用</p>\r\n<p>我们仍有相同含义的x(x - n - 5元)与y(y - m -\r\n10元)，但是具体公式开始不同</p>\r\n<p>其中，所有可能的顺序为：C(m+n, n)</p>\r\n<p>不合法的路径仍与y = x + 1有关，但是最终的非法内容有：C(m + n,\r\nm-1)</p>\r\n<p>故最终有：C(m + n, n) - C(m + n, m - 1)</p>\r\n<p>是不是有点疑惑？怎么算出来和结果不一样，好像多除以了(m! * n!)？</p>\r\n<p>若是将每个人视为相同的人，是无序的话，结果解释上述表达式，但是实际上每个人都不尽相同，为了保证顺序，还需要乘以(m!\r\n* n!)\r\n(<strong>组合</strong>方式已定，每组内自由<strong>排列</strong>)，最终可得到答案(m\r\n+ n)! * (n - m + 1)/(n +\r\n1)，事实上，上一题也应该作这样子的<em>额外</em>处理才对</p>\r\n<h2 id=\"更多典例\">更多典例</h2>\r\n<p><strong>1. 出栈次序</strong>\r\n一个栈(无穷大)的进栈序列为1，2，3，…，n，有多少个不同的出栈序列?</p>\r\n<p><strong>2. 01序列</strong>\r\n给出一个n，要求一个长度为2n的01序列，使得序列的任意前缀中1的个数不少于0的个数，\r\n有多少个不同的01序列? 以下为长度为6的序列: 111000 101100 101010 110010\r\n110100</p>\r\n<p><strong>3. ‘+1’ ‘-1’序列</strong></p>\r\n<p>n个+1和n个-1构成的2n项\r\na1,a2,⋅⋅⋅,a2na1,a2,⋅⋅⋅,a2n，其部分和满足非负性质，即a1+a2+⋅⋅⋅+ak&gt;=0a1+a2+⋅⋅⋅+ak&gt;=0，(k=1,2,···,2n)\r\n，有多少个不同的此序列?</p>\r\n<p><strong>4. 括号序列</strong></p>\r\n<p>n对括号有多少种匹配方式？</p>\r\n<p><strong>5. 找零问题</strong></p>\r\n<p>2n个人要买票价为五元的电影票，每人只买一张，但是售票员没有钱找零。其中，n个人持有五元，另外n个人持有十元，问在不发生找零困难的情况下，有多少种排队方法？</p>\r\n<p><strong>6. 矩阵链乘</strong></p>\r\n<p>P=a1×a2×a3×……×an，依据乘法结合律，不改变其顺序，只用括号表示成对的乘积，试问有几种括号化的方案？</p>\r\n<p><strong>7. 二叉树计数</strong></p>\r\n<p>有n个节点构成的二叉树（非叶子节点都有2个儿子），共有多少种情形？\r\n有n+1个叶子的二叉树的个数？</p>\r\n<p><strong>8. 凸多边形划分</strong></p>\r\n<p>在一个n边形中，通过不相交于n边形内部的对角线，把n边形拆分为若干个三角形，问有多少种拆分方案？</p>\r\n<p><strong>9. 圆上n条线段</strong></p>\r\n<p>在圆上选择2n个点，将这些点成对连接起来使得所得到的n条线段不相交的方法数？</p>\r\n<p><strong>10. 单调路径</strong></p>\r\n<p>一位大城市的律师在他住所以北n个街区和以东n个街区处工作，每天他走2n个街区去上班。如果他从不穿越（但可以碰到）从家到办公室的对角线，那么有多少条可能的道路？</p>\r\n<p><strong>11. 填充阶梯图形</strong></p>\r\n<p>用n个长方形填充一个高度为n的阶梯状图形的方法个数<strong>？</strong></p>\r\n<p><strong>12. 摞碗问题</strong></p>\r\n<p>饭后，姐姐洗碗，妹妹把姐姐洗过的碗一个一个放进碗橱摞成一摞。一共有n个不同的碗，洗前也是摞成一摞的，也许因为小妹贪玩而使碗拿进碗橱不及时，姐姐则把洗过的碗摞在旁边，问：小妹摞起的碗有多少种可能的方式？</p>\r\n<p><strong>13. 汽车胡同加油问题</strong></p>\r\n<p>一个汽车队在狭窄的路面上行驶，不得超车，但可以进入一个死胡同去加油，然后再插队行驶，共有n辆汽车，问共有多少种不同的方式使得车队开出城去？</p>\r\n<p><strong>14. 还书借书问题</strong></p>\r\n<p>在图书馆一共2n个人在排队，n个还《面试宝典》一书，n个在借《面试宝典》一书，图书馆此时没有了面试宝典了，求他们排队的总数</p>\r\n<p><strong>15. 高矮排队问题</strong></p>\r\n<p>2n个高矮不同的人,排成两排,每排必须是从矮到高排列,而且第二排比对应的第一排的人高,问排列方式有多少种?</p>\r\n","text":"wikipedia-en: Catalan number - Wikipedia wikipedia-cn:卡塔兰数 - 维基百科，自由的百科全书 (wikipedia.org) 强烈推荐这篇博客：卡特兰(Catalan)数入门详解 - Morning_Glory - 博客园 (...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/categories/Algorithm.json"}],"tags":[{"name":"String Processing","slug":"String-Processing","count":5,"path":"api/tags/String-Processing.json"},{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/tags/Algorithm.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#catalan-number\"><span class=\"toc-text\">Catalan Number</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%84%8F%E4%B9%89\"><span class=\"toc-text\">意义？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">定义：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%B9%E6%98%93%E8%AE%A1%E7%AE%97%E7%9A%84%E6%8E%A8%E5%AF%BC%E5%85%AC%E5%BC%8F\"><span class=\"toc-text\">容易计算的推导公式：</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#usage\"><span class=\"toc-text\">usage</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BE%8B%E9%A2%981\"><span class=\"toc-text\">例题1：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BE%8B%E9%A2%982\"><span class=\"toc-text\">例题2：</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E5%A4%9A%E5%85%B8%E4%BE%8B\"><span class=\"toc-text\">更多典例</span></a></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"To Finish List","uid":"05224746dee6fcc8d8927349a6fd8d76","slug":"TODOLIST","date":"2022-12-23T04:23:23.000Z","updated":"2023-10-27T21:05:16.000Z","comments":true,"path":"api/articles/TODOLIST.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"DTD DTD 简介 | 菜鸟教程 (runoob.com) XML XML 简介 – 什么是 XML？ | 菜鸟教程 (runoob.com) Uptimebot 网页监管工具：UptimeRobot: Free Website Monitoring Service Algor...","link":"","photos":[],"count_time":{"symbolsCount":207,"symbolsTime":"1 mins."},"categories":[{"name":"To Finish List","slug":"To-Finish-List","count":1,"path":"api/categories/To-Finish-List.json"}],"tags":[{"name":"To Finish List","slug":"To-Finish-List","count":1,"path":"api/tags/To-Finish-List.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"CRC Algorithm","uid":"2e7a3ae4090ee29ca9a2e76805bad9b3","slug":"Algorithm/CRC、LRC、BCC校验与模二运算","date":"2022-12-23T04:23:23.000Z","updated":"2023-11-01T04:24:10.792Z","comments":true,"path":"api/articles/Algorithm/CRC、LRC、BCC校验与模二运算.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":" 那简而言之就是 取首位 异或(首位为0 除数为0) 左移 上述三个步骤循环呗 当左移后余数长度小于被除数时则取余 也可以这么理解吧 当余数开头出现n个0的时候就可以全部消掉直到首位是1 商补上n-1个0和一个1就可以了 继续异或运算嘛 我是看到有好几题余数开头俩0的 分析看看 ...","link":"","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/categories/Algorithm.json"}],"tags":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/tags/Algorithm.json"},{"name":"CRC","slug":"CRC","count":1,"path":"api/tags/CRC.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}