{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"WhatWeNeedToLearnLater/日志规范","date":"2023-03-07T16:14:46.495Z","updated":"2021-09-13T13:14:06.000Z","comments":true,"path":"api/articles/WhatWeNeedToLearnLater/日志规范.json","keywords":null,"cover":null,"content":"<h1 id=\"日志规范\"><a href=\"#日志规范\" class=\"headerlink\" title=\"日志规范\"></a>日志规范</h1><h1 id=\"日志格式\"><a href=\"#日志格式\" class=\"headerlink\" title=\"日志格式\"></a>日志格式</h1><p>通用前缀 class.method LEVEL | KEY | SUB_KEY | param1=x;param2=x;… | rs=JSON | traceId=xxx[ | 其它自定义日志]</p>\n<p>KEY：标示业务领域，如“领券”</p>\n<p>SUBKEY：标示业务领域中具体的逻辑，如“策略决策”、“权益决策”、“调用UMP”等</p>\n<p>LEVEL：DEBUG/TRACE/MONITOR/WARN</p>\n<p>要求：</p>\n<p>查找日志时，再一次查询中可以顺利通过一个或多个关键字的组合，找到一条完整的业务处理链路。</p>\n<p>如通过一个userId和KEY，可以完整的找到这个用户的领券全过程。</p>\n<h1 id=\"调试日志\"><a href=\"#调试日志\" class=\"headerlink\" title=\"调试日志\"></a>调试日志</h1><p>仅在调试阶段需要输出，线上一般不输出。</p>\n<p>日志可以包括每次请求的详细出入参等信息。</p>\n<p>线上必须有开关可以控制这类日志的打印。</p>\n<p>level=DEBUG</p>\n<h1 id=\"普通日志\"><a href=\"#普通日志\" class=\"headerlink\" title=\"普通日志\"></a>普通日志</h1><p>用户追踪必要的代码执行记录，线上一般打印出来，大促时可以降级。</p>\n<p>日志可以包括每次外部请求的详细出入参，以及内部请求的关键参数。</p>\n<p>请求出入参较长时，可考虑只打印关键参数。</p>\n<p>level=TRACE</p>\n<h1 id=\"业务指标项日志\"><a href=\"#业务指标项日志\" class=\"headerlink\" title=\"业务指标项日志\"></a>业务指标项日志</h1><p>记录必要的业务活动，通过sls或sunfire产出业务大盘</p>\n<p>level=MONITOR</p>\n<h1 id=\"监控报警项日志\"><a href=\"#监控报警项日志\" class=\"headerlink\" title=\"监控报警项日志\"></a>监控报警项日志</h1><p>通过sunfire产出报警</p>\n<p>level=WARN</p>\n<h1 id=\"自定义日志\"><a href=\"#自定义日志\" class=\"headerlink\" title=\"自定义日志\"></a>自定义日志</h1><p>不做格式要求，自行打印，注意避免过量日志造成线上磁盘资源紧张</p>\n","text":"日志规范日志格式通用前缀 class.method LEVEL | KEY | SUB_KEY | param1=x;param2=x;… | rs=JSON | traceId=xxx[ | 其它自定义日志] KEY：标示业务领域，如“领券” SUBKEY：标示业务领域中具体的...","link":"","photos":[],"count_time":{"symbolsCount":579,"symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%97%A5%E5%BF%97%E8%A7%84%E8%8C%83\"><span class=\"toc-text\">日志规范</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F\"><span class=\"toc-text\">日志格式</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%B0%83%E8%AF%95%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">调试日志</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%99%AE%E9%80%9A%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">普通日志</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%9A%E5%8A%A1%E6%8C%87%E6%A0%87%E9%A1%B9%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">业务指标项日志</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%9B%91%E6%8E%A7%E6%8A%A5%E8%AD%A6%E9%A1%B9%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">监控报警项日志</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">自定义日志</span></a></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"ExperiencesForJob/1","date":"2023-03-07T16:14:46.502Z","updated":"2023-02-18T03:57:17.000Z","comments":true,"path":"api/articles/ExperiencesForJob/1.json","keywords":null,"cover":null,"text":"1Unity 工作经历+近期面试经历_weixin_33912246的博客-CSDN博客 1.不要过多去问关于加班的问题，如果有熟人在里面直接问熟人好了。或者等拿到offer的时候再问。游戏公司情况比较特殊，加班普遍严重。（当然，技巧归技巧，我个人观点并不认为问清楚加班情况和愿意...","link":"","photos":[],"count_time":{"symbolsCount":558,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"WhatWeNeedToLearnLater/如何合理地构建你的Java项目","date":"2023-03-07T16:14:46.493Z","updated":"2021-09-15T15:40:15.000Z","comments":true,"path":"api/articles/WhatWeNeedToLearnLater/如何合理地构建你的Java项目.json","keywords":null,"cover":null,"text":"切片：SpringAOP 请不要使用小写加下划线来命名你的变量，使用驼峰规则来命名 将判断用的等式改为调用.equals()，并且在采用.equals()前使用常量，括号里装填变量即： &quot;abc&quot;.equals(var) ; &#x2F;&#x2F; 或者使用...","link":"","photos":[],"count_time":{"symbolsCount":332,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}