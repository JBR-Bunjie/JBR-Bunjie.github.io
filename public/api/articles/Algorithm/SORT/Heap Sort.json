{"title":"Heap Sort - 堆排序","uid":"120c49bf67650504f15740668777cd42","slug":"Algorithm/SORT/Heap Sort","date":"2022-12-23T04:23:23.000Z","updated":"2023-10-27T16:10:23.000Z","comments":true,"path":"api/articles/Algorithm/SORT/Heap Sort.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","content":"<h1 id=\"heap-sort---堆排序\">Heap Sort - 堆排序</h1>\r\n<h2 id=\"reference\">Reference：</h2>\r\n<ul>\r\n<li><strong><em><a\r\nhref=\"https://blog.csdn.net/qq_16403141/article/details/80526313\">Recommend：堆排序之JAVA实现月光下一只赏月的猪的博客-CSDN博客java\r\n堆排序</a></em></strong></li>\r\n<li><a\r\nhref=\"https://blog.csdn.net/h348592532/article/details/45508715\">（高效率排序算法三）堆排序_送人玫瑰手留余香的博客-CSDN博客_堆排序效率</a></li>\r\n<li><a href=\"https://www.runoob.com/w3cnote/heap-sort.html\">1.7 堆排序 |\r\n菜鸟教程 (runoob.com)</a></li>\r\n</ul>\r\n<h2 id=\"detail\">Detail：</h2>\r\n<ol type=\"1\">\r\n<li>两个定义：</li>\r\n</ol>\r\n<blockquote>\r\n<p>大顶堆：每个节点的值都大于或等于其子节点的值，在堆排序算法中用于升序排列；</p>\r\n<p>小顶堆：每个节点的值都小于或等于其子节点的值，在堆排序算法中用于降序排列；</p>\r\n</blockquote>\r\n<ol start=\"2\" type=\"1\">\r\n<li>步骤描述：</li>\r\n</ol>\r\n<blockquote>\r\n<ol type=\"1\">\r\n<li>创建一个堆 H[0……n-1]；</li>\r\n<li>把堆首（最大值）和堆尾互换；</li>\r\n<li>把堆的尺寸缩小 1，并调用\r\nshift_down(0)，目的是把新的数组顶端数据调整到相应位置；</li>\r\n<li>重复步骤 2，直到堆的尺寸为 1。</li>\r\n</ol>\r\n</blockquote>\r\n<ol start=\"3\" type=\"1\">\r\n<li>分析：</li>\r\n</ol>\r\n<p>堆排序的平均时间复杂度为 Ο(nlogn)。</p>\r\n<h2 id=\"code\">Code：</h2>\r\n<h3 id=\"code---javascript\">Code - JavaScript</h3>\r\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> len;    <span class=\"comment\">// 因为声明的多个函数都需要数据长度，所以把len设置成为全局变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">buildMaxHeap</span>(<span class=\"params\">arr</span>) &#123;   <span class=\"comment\">// 建立大顶堆</span></span><br><span class=\"line\">    len = arr.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(len/<span class=\"number\">2</span>); i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">heapify</span>(arr, i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">heapify</span>(<span class=\"params\">arr, i</span>) &#123;     <span class=\"comment\">// 堆调整</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> left = <span class=\"number\">2</span> * i + <span class=\"number\">1</span>,</span><br><span class=\"line\">        right = <span class=\"number\">2</span> * i + <span class=\"number\">2</span>,</span><br><span class=\"line\">        largest = i;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = left;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class=\"line\">        largest = right;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (largest != i) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">swap</span>(arr, i, largest);</span><br><span class=\"line\">        <span class=\"title function_\">heapify</span>(arr, largest);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">swap</span>(<span class=\"params\">arr, i, j</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> temp = arr[i];</span><br><span class=\"line\">    arr[i] = arr[j];</span><br><span class=\"line\">    arr[j] = temp;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">heapSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">buildMaxHeap</span>(arr);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = arr.<span class=\"property\">length</span>-<span class=\"number\">1</span>; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">swap</span>(arr, <span class=\"number\">0</span>, i);</span><br><span class=\"line\">        len--;</span><br><span class=\"line\">        <span class=\"title function_\">heapify</span>(arr, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"code---python\">Code - Python</h3>\r\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">buildMaxHeap</span>(<span class=\"params\">arr</span>):</span><br><span class=\"line\">    <span class=\"keyword\">import</span> math</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(math.floor(<span class=\"built_in\">len</span>(arr)/<span class=\"number\">2</span>),-<span class=\"number\">1</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">        heapify(arr,i)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">heapify</span>(<span class=\"params\">arr, i</span>):</span><br><span class=\"line\">    left = <span class=\"number\">2</span>*i+<span class=\"number\">1</span></span><br><span class=\"line\">    right = <span class=\"number\">2</span>*i+<span class=\"number\">2</span></span><br><span class=\"line\">    largest = i</span><br><span class=\"line\">    <span class=\"keyword\">if</span> left &lt; arrLen <span class=\"keyword\">and</span> arr[left] &gt; arr[largest]:</span><br><span class=\"line\">        largest = left</span><br><span class=\"line\">    <span class=\"keyword\">if</span> right &lt; arrLen <span class=\"keyword\">and</span> arr[right] &gt; arr[largest]:</span><br><span class=\"line\">        largest = right</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> largest != i:</span><br><span class=\"line\">        swap(arr, i, largest)</span><br><span class=\"line\">        heapify(arr, largest)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">swap</span>(<span class=\"params\">arr, i, j</span>):</span><br><span class=\"line\">    arr[i], arr[j] = arr[j], arr[i]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">heapSort</span>(<span class=\"params\">arr</span>):</span><br><span class=\"line\">    <span class=\"keyword\">global</span> arrLen</span><br><span class=\"line\">    arrLen = <span class=\"built_in\">len</span>(arr)</span><br><span class=\"line\">    buildMaxHeap(arr)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(arr)-<span class=\"number\">1</span>,<span class=\"number\">0</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">        swap(arr,<span class=\"number\">0</span>,i)</span><br><span class=\"line\">        arrLen -=<span class=\"number\">1</span></span><br><span class=\"line\">        heapify(arr, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr</span><br></pre></td></tr></table></figure>\r\n","text":"Heap Sort - 堆排序 Reference： Recommend：堆排序之JAVA实现月光下一只赏月的猪的博客-CSDN博客java 堆排序 （高效率排序算法三）堆排序_送人玫瑰手留余香的博客-CSDN博客_堆排序效率 1.7 堆排序 | 菜鸟教程 (runoob.com...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/categories/Algorithm.json"}],"tags":[{"name":"Algorithm","slug":"Algorithm","count":31,"path":"api/tags/Algorithm.json"},{"name":"Sort","slug":"Sort","count":2,"path":"api/tags/Sort.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#heap-sort---%E5%A0%86%E6%8E%92%E5%BA%8F\"><span class=\"toc-text\">Heap Sort - 堆排序</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#reference\"><span class=\"toc-text\">Reference：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#detail\"><span class=\"toc-text\">Detail：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#code\"><span class=\"toc-text\">Code：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#code---javascript\"><span class=\"toc-text\">Code - JavaScript</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#code---python\"><span class=\"toc-text\">Code - Python</span></a></li></ol></li></ol></li></ol>","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"Git Command","uid":"0b5bad59d6c75a685d314a2ae8f6dd4e","slug":"Deploy/GitAndGithub/Git Commmand","date":"2022-12-23T04:23:23.000Z","updated":"2023-10-27T18:39:25.000Z","comments":true,"path":"api/articles/Deploy/GitAndGithub/Git Commmand.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"git 分区 git 一共有三个分区： 工作区、暂存区和版本库 git 的初始化（自报家门） git config --global user.name \"YOUR NAME\" git config --global user.email \"email@example.com\" ...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Git","slug":"Git","count":3,"path":"api/categories/Git.json"}],"tags":[{"name":"Git","slug":"Git","count":3,"path":"api/tags/Git.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"一些PowerShell, CMD命令","uid":"708e72f78c0920c292ea7dfe7d2abfd7","slug":"Deploy/Windows/一些PowerShell·CMD命令","date":"2022-12-23T04:23:23.000Z","updated":"2023-10-27T19:03:35.000Z","comments":true,"path":"api/articles/Deploy/Windows/一些PowerShell·CMD命令.json","keywords":null,"cover":"https://raw.githubusercontent.com/JBR-Bunjie/JBR-Bunjie/main/back.jpg","text":"一些PowerShell, CMD命令 Windows 命令 | Microsoft Docs 搜索文件中文本的模式 12| findstr# https://docs.microsoft.com/zh-cn/windows-server/administration/windo...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"Windows","slug":"Windows","count":1,"path":"api/categories/Windows.json"}],"tags":[{"name":"Windows","slug":"Windows","count":2,"path":"api/tags/Windows.json"},{"name":"Powershell","slug":"Powershell","count":1,"path":"api/tags/Powershell.json"},{"name":"CMD","slug":"CMD","count":1,"path":"api/tags/CMD.json"}],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}