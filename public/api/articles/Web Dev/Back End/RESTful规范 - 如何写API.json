{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"Web Dev/Back End/RESTful规范 - 如何写API","date":"2023-03-07T16:14:46.229Z","updated":"2022-08-25T13:37:11.000Z","comments":true,"path":"api/articles/Web Dev/Back End/RESTful规范 - 如何写API.json","keywords":null,"cover":null,"content":"<ol type=\"1\">\r\n<li><p>如果是对同一个表进行数据操作，应该使用同一条API，然后根据method的不同，进行不同的操作\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">GET&#x2F;POST&#x2F;PUT&#x2F;DELETE&#x2F;PATCH</code></pre></p></li>\r\n<li><p>面向资源编程，通过API提交的参数最好是名词如name，尽量少用动词\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">http:&#x2F;&#x2F;www.abc.com&#x2F;name</code></pre></p></li>\r\n<li><p>体现版本，在API中加入像v1, v2这样的版本代号\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">http:&#x2F;&#x2F;www.abc.com&#x2F;v1&#x2F;name\nhttp:&#x2F;&#x2F;www.abc.com&#x2F;v2&#x2F;name</code></pre></p></li>\r\n<li><p>体现API，让使用者一眼能看出这是API而不是URL，应该在API中加入提示：\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">http:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v1&#x2F;name\nhttp:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v2&#x2F;name</code></pre></p></li>\r\n<li><p>使用HTTPS <pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">https:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v1&#x2F;name\nhttps:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v2&#x2F;name</code></pre></p></li>\r\n<li><p>响应式设置状态码 <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">return HttpResponse(&#39;abcde&#39;, status&#x3D;200)</code></pre></p></li>\r\n<li><p>API的参数里加入筛选条件参数，也可以理解为获取资源优先选择GET的方式\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">https:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v2&#x2F;name?page&#x3D;1&amp;size&#x3D;10</code></pre></p></li>\r\n<li><p>返回值的规范，对不同的请求method，做出相应的响应值如：\r\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">-&gt; https:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v1&#x2F;name\n\n- GET: 所有列表\n- POST: 新增的数据\n\n-&gt; https:&#x2F;&#x2F;www.abc.com&#x2F;api&#x2F;v1&#x2F;name&#x2F;1\n\n- GET: 单条数据\n- PUT: 更新，返回更新的数据\n- PATCH: 局部更新，返回更新的数据\n- DELETE: 删除，返回空文档</code></pre></p></li>\r\n<li><p>返回错误信息，包括错误代号等，让用户直接看出是哪种类型错误\r\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">ret &#123;\n    code: 1000,\n    data: &#123;\n        1: &#123;&#39;id&#39;: 1, &#39;title&#39;: &#39;lala&#39;&#125;\n    &#125;\n&#125;</code></pre></p></li>\r\n<li><p>返回的详细信息，应该以字典的形式存放在data中\r\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">ret &#123;\n    code: 1000,\n    data: &#123;\n        1: &#123;&#39;id&#39;: 1, &#39;title&#39;: &#39;lala&#39;, &#39;detail&#39;: &#39;lalalalala&#39;&#125;\n    &#125;\n&#125;</code></pre></p></li>\r\n</ol>\r\n","text":" 如果是对同一个表进行数据操作，应该使用同一条API，然后根据method的不同，进行不同的操作 GET&#x2F;POST&#x2F;PUT&#x2F;DELETE&#x2F;PATCH 面向资源编程，通过API提交的参数最好是名词如name，尽量少用动词 http:&#x2F...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}},"mapped":true,"prev_post":{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"Web Dev/Back End/WSGI","date":"2023-03-07T16:14:46.235Z","updated":"2021-11-08T09:28:34.000Z","comments":true,"path":"api/articles/Web Dev/Back End/WSGI.json","keywords":null,"cover":null,"text":" ","link":"","photos":[],"count_time":{"symbolsCount":2,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}},"next_post":{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"Web Dev/前后端交互","date":"2023-03-07T16:14:46.221Z","updated":"2021-09-19T07:35:07.000Z","comments":true,"path":"api/articles/Web Dev/前后端交互.json","keywords":null,"cover":null,"text":"POST 请求 | Axios 中文文档 (axios-http.cn) ","link":"","photos":[],"count_time":{"symbolsCount":39,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"JBR_Bunjie","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/90251718?v=4","link":"/","description":"仿生程序员会在光环上遇见AI乐正绫吗？","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/415377461"},"github":{"icon":"/svg/social_github.svg","link":"https://github.com/JBR-Bunjie"}}}}}}