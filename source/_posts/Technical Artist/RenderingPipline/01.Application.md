# 应用阶段

应用阶段的主要任务是把需要显示在屏幕上的几何信息输入到渲染管线的下一阶段。

 

应用阶段其实就是指Unity中用C#编程的阶段，通过代码控制的程序变化，但是并不似所有变化都会影响到接下来的渲染阶段，只有做了与渲染相关的操作才会影响接下来的阶段。比如控制摄像机的位置，物体的旋转、颜色等都能影响姐接下来的渲染阶段。

 

我们在写Shader的时候，会看到一个叫appdata的结构体，而结构体所定义的数据就是从应用阶段传过来的数据。

 ```shaderlab
 struct appdata_t {
   float4 vertex: POSITION;
   float4 color: COLOR;
   float2 texcoord: TEXCOORD0;
 };
 ```



应用阶段会提供大致以下数据：

- 顶点（网格）
- 颜色
- 纹理的UV坐标
- MVP矩阵
- 光源位置

好多书中都会写应用阶段是通过软件方式来实现的阶段，开发者在应用阶段有完全的控制权。

 

我理解的软件方式指的是CPU负责的事情，在Unity中游戏逻辑，编码、资产处理都是CPU去处理的。而“开发者”在游戏引擎指的是引擎的开发者和使用者，开发者决定了引擎的渲染方式，提供的渲染路径，如何触发批处理等，而使用者可以控制物体本身的属性和渲染相关的脚本编写。

 

所以说应用阶段我们使用了游戏引擎提供的相关功能加上我们自己的编码和设置来控制最终给下一个阶段提供的数据信息。

[(12 封私信 / 80 条消息) 渲染管线 应用阶段 - 搜索结果 - 知乎 (zhihu.com)](https://www.zhihu.com/search?type=content&q=渲染管线 应用阶段)