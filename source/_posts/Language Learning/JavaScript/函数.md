## 箭头函数

[箭头函数 - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arrow_functions)

### 说明

**箭头函数表达式**的语法比`函数表达式`更简洁，并且没有自己的`this`，`arguments`，`super`或`new.target`。箭头函数表达式更适用于那些本来需要匿名函数的地方，并且它不能用作构造函数。

**注意箭头函数 != 匿名函数**

箭头函数是js对[Anonymous function - Wikipedia](https://en.wikipedia.org/wiki/Anonymous_function)的实现，它属于匿名函数的一种。

~~一般而言匿名函数anonymous function == lambda表达式，但js比较特殊~~

```js
const materials = [
  'Hydrogen',
  'Helium',
  'Lithium',
  'Beryllium'
];

console.log(materials.map(material => material.length));
// expected output: Array [8, 6, 7, 9]
```

### 语法

```js
(param1, param2, …, paramN) => { statements }

(param1, param2, …, paramN) => expression
//相当于：(param1, param2, …, paramN) =>{ return expression; }

// 当只有一个参数时，圆括号是可选的：
(singleParam) => { statements }
singleParam => { statements }

// 没有参数的函数应该写成一对圆括号。
() => { statements }
```



## 函数赋值变量

就相当于给原函数换了个新名

### 以函数形式返回

```js
function print(val) {
    console.log(`姓名是：${val}`);
}
var fn = print; // 将函数赋值给fn
fn('angus'); // 姓名是：angus
```

### 以返回值形式

将函数返回的值赋值给`fn`，如果函数**没有返回值**，但又接受了，此时会返回`undefined`

有返回值：

```js
function print(val) {
   return `姓名是：${val}`;
}
var fn = print('angus');
console.log(fn); // 姓名是：angus
```

无返回值：

```js
function print(val) {
    `姓名是：${val}`;
}
var fn = print('angus');
console.log(fn); // undefined
```

### 返回值可为函数

将我们定义的`print`函数返回给`fn`：

```js
function sum() {
    var num = 0;
    
    function print() {
        num += 2;
        return num;
    }
    return print; // return了print函数体，并非直接return num
}
var fn = sum();
console.log(fn()); // 2

// var a = function sum() {...}  // === var a = sum
// a => sum(){...}
// a() => print(){...}
// a()() => 2

// var b = sum()
// b => print(){...}
// b() => 2
```

直接执行`print`函数，没有返回：

```js
function sum() {
    var num = 0;
    function print() {
        num += 2;
        return num;
    }
    print();
}
var fn = sum();
console.log(fn); // undefined
```

## 函数参数中的括号

以此为例：

```js
function computeLinkBreadths({nodes}){...}

function computeLinkBreadths(nodes){...}
```

解释：带大括号是指传递一个参数，参数类型为对象，里面有一个属性nodes，而不带大括号就是传递一个参数<br>这里的大括号不是块级作用域，就是单纯的表示一个对象

但从使用上讲两种方式没有直接区别，但使用传递对象的方法会使今后的扩展变得很方便<br>比如如果需要增加一个参数，在传递对象的方法中只需要直接向里面添加一个属性就行了，否则就需要在后面添加一个硬性的参数，而参数越来越多，调用的时候就越来越复杂——参数顺序不能乱。

另外，上面的这种写法是es6的解构赋值，可以看下阮老师的http://es6.ruanyifeng.com/#do...，内容不多全书看下来要不了多久，但对你今后的帮助会非常大。

## arguments对象

```js
> var b = function(a) {
    return arguments.length ? `${a}` : "none"}
< undefined

> b()
< 'none'

> b("c")
< 'c'
```

> `arguments`对象是所有（非箭头）函数中都可用的**局部变量**。你可以使用`arguments`对象在函数中引用函数的参数。此对象包含传递给函数的每个参数，第一个参数在索引0处。

[Arguments 对象 - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments)
